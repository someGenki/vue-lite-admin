import{d as g,a4 as x,o as l,P as H,Q as f,a as c,J as k,c as r,F as b,a7 as L,U as q,W as V,$ as j,K as B,az as A,aA as F,a3 as I,j as C,L as E,X as h,u as w,z as O,y as P}from"./@vue.18c62693.js";import{_ as z}from"./index.23672c53.js";import"./vendor.6c9568b9.js";import"./element-plus.16ed0819.js";import"./@element-plus.d6268c5a.js";import"./@popperjs.36402333.js";const S={weChatList:["\u5FAE\u7B11","\u6487\u5634","\u8272","\u53D1\u5446","\u5F97\u610F","\u6D41\u6CEA","\u5BB3\u7F9E","\u95ED\u5634","\u7761","\u5927\u54ED","\u5C34\u5C2C","\u53D1\u6012","\u8C03\u76AE","\u5472\u7259","\u60CA\u8BB6","\u96BE\u8FC7","\u9177","\u51B7\u6C57","\u6293\u72C2","\u5410","\u5077\u7B11","\u53EF\u7231","\u767D\u773C","\u50B2\u6162","\u9965\u997F","\u56F0","\u60CA\u6050","\u6D41\u6C57","\u61A8\u7B11","\u5927\u5175","\u594B\u6597","\u5492\u9A82","\u7591\u95EE","\u5618","\u6655","\u6298\u78E8","\u8870","\u9AB7\u9AC5","\u6572\u6253","\u518D\u89C1","\u64E6\u6C57","\u62A0\u9F3B","\u9F13\u638C","\u7CD7\u5927\u4E86","\u574F\u7B11","\u5DE6\u54FC\u54FC","\u53F3\u54FC\u54FC","\u54C8\u6B20","\u9119\u89C6","\u59D4\u5C48","\u5FEB\u54ED\u4E86","\u9634\u9669","\u4EB2\u4EB2","\u5413","\u53EF\u601C","\u83DC\u5200","\u897F\u74DC","\u5564\u9152","\u7BEE\u7403","\u4E52\u4E53","\u5496\u5561","\u996D","\u732A\u5934","\u73AB\u7470","\u51CB\u8C22","\u793A\u7231","\u7231\u5FC3","\u5FC3\u788E","\u86CB\u7CD5","\u95EA\u7535","\u70B8\u5F39","\u5200","\u8DB3\u7403","\u74E2\u866B","\u4FBF\u4FBF","\u6708\u4EAE","\u592A\u9633","\u793C\u7269","\u62E5\u62B1","\u5F3A","\u5F31","\u63E1\u624B","\u80DC\u5229","\u62B1\u62F3","\u52FE\u5F15","\u62F3\u5934","\u5DEE\u52B2","\u7231\u4F60","\u4E0D","\u597D","\u7231\u60C5","\u98DE\u543B","\u8DF3\u8DF3","\u53D1\u6296","\u6004\u706B","\u8F6C\u5708","\u78D5\u5934","\u56DE\u5934","\u8DF3\u7EF3","\u6325\u624B","\u6FC0\u52A8","\u8857\u821E","\u732E\u543B","\u5DE6\u592A\u6781"],kaomojiList:["\uFF08\uFF1D\u3002\uFF1D\uFF09","(\u30FC\u30FC\u309B)","(\u2299\uFE4F\u2299)","(\u30CE\u3078\uFFE3\u3001)","(#`O\u2032)","(\xB0\u30FC\xB0\u3003)","(\u30FC`\xB4\u30FC)","(#`O\u2032)","(\uFF20_\uFF20;)","w(\uFF9F\u0414\uFF9F)w","(\uFFE3_,\uFFE3 )","\u51F8(\u8279\u76BF\u8279 )","(*\uFFE3r\u01D2\uFFE3)","\uFE3F(\uFFE3\uFE36\uFFE3)\uFE3F","\u266A(^\u2207^*)","o(\u2267\u53E3\u2266)o","(o_ _)\uFF89","\u30FD(\u273F\uFF9F\u25BD\uFF9F)\u30CE","\u03C6(\u2267\u03C9\u2266*)\u266A","(u\u203F\u0E3Au\u273F\u0E3A)","\uFF08\u25CB\uFF40 3\u2032\u25CB\uFF09","\u25CB|\uFFE3|_ =3","o(\uFFE3\u30D8\uFFE3o\uFF03)","o(\u4E00\uFE3F\u4E00+)o"]};function N(e){return e.replace(/\[[\u4E00-\u9FA5]{1,3}\]/gi,t=>{let s=t.replace(/\[|\]/gi,""),n=S.weChatList.indexOf(s);return n!==-1?`<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${n}.gif">`:t})}function W(e){return e==="wechat"?S.weChatList.map((t,s)=>({name:`[${t}]`,url:`<img title="${t}" src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${s}.gif">`})):e==="kaomoji"?S.kaomojiList:null}const U={name:"EmotionBox",props:["position"],emits:["emotion-add"],setup(){let e=g("wechat"),t=W("wechat"),s=W("kaomoji");return{wechatList:t,kaomojiList:s,current:e,emotions:[{key:"wechat",name:"\u5FAE\u4FE1\u8868\u60C5"},{key:"kaomoji",name:"\u989C\u6587\u5B57"}]}}},D=e=>(A("data-v-e6f24991"),e=e(),F(),e),X=D(()=>c("span",{class:"emotion-box__open-btn"},"\u8868\u60C5",-1)),J={class:"emotion-box__wrapper"},K={key:0,class:"emotion-box__container"},Q=["innerHTML","onClick"],Y={key:1,class:"emotion-box__container"},G=["innerHTML","onClick"],Z={class:"emotion-box__tabs"},ee=["textContent","onClick"];function te(e,t,s,n,i,p){const d=x("el-popover");return l(),H(d,{width:250,"popper-class":"emotion-box"},{reference:f(()=>[c("span",null,[k(e.$slots,"default",{},()=>[X],!0)])]),default:f(()=>[c("div",J,[n.current==="wechat"?(l(),r("div",K,[(l(!0),r(b,null,L(n.wechatList,(a,u)=>(l(),r("span",{key:"w:"+u,class:"emotion-box__item",innerHTML:a.url,onClick:_=>e.$emit("emotion-add",a.name)},null,8,Q))),128))])):n.current==="kaomoji"?(l(),r("div",Y,[(l(!0),r(b,null,L(n.kaomojiList,(a,u)=>(l(),r("span",{innerHTML:a,key:"k:"+u,class:"emotion-box__item",onClick:_=>e.$emit("emotion-add",a)},null,8,G))),128))])):q("",!0),c("div",Z,[(l(!0),r(b,null,L(n.emotions,a=>(l(),r("span",{key:a.key,textContent:V(a.name),onClick:j(u=>n.current=a.key,["stop"]),class:B(n.current===a.key?"emotion-box__tabs--active":"")},null,10,ee))),128))])])]),_:3})}const oe=z(U,[["render",te],["__scopeId","data-v-e6f24991"]]);const ne={name:"ResizeBox",props:{minWidth:{type:String,default:"10%"},padding:{type:String,default:"8px"},direction:{type:String,default:"horizontal"},contentPosition:{type:String,default:"center"},lineColor:{type:String,default:"white"}},emits:[],setup(e){const t=g(null),s=g(null),n=g(null),i={},{contentPosition:p,direction:d}=I(e),a=C(()=>p.value==="left"?3:p.value==="right"?1:2);let u;const _=o=>{o.stopPropagation(),o.changedTouches&&(o=o.changedTouches[0]),u?s.value.style.width=o.pageX-i.left+"px":s.value.style.height=o.pageY-i.top+"px"},v=()=>{const o=t.value;o.style.cursor=o.style.userSelect=null,o.style.width=i.styleWidth,o.style.height=i.styleHeight,o.removeEventListener("mousemove",_),o.removeEventListener("touchmove",_),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v)};return{resizeBox:t,leftBox:s,rbLine:n,positionRatio:a,resizeBoxWidth:()=>{const o=t.value;u=d.value==="horizontal",u?(i.left=o.getBoundingClientRect().left+document.documentElement.scrollLeft,i.styleWidth=o.style.width,o.style.width=o.offsetWidth+"px"):(i.top=o.getBoundingClientRect().top+document.documentElement.scrollTop,i.styleHeight=o.style.height,o.style.height=o.offsetHeight+"px"),o.style.userSelect="none",o.style.cursor=u?"w-resize":"n-resize",o.addEventListener("mousemove",_,{passive:!0}),o.addEventListener("touchmove",_,{passive:!0}),document.addEventListener("mouseup",v),document.addEventListener("touchend",v)}}}};function se(e,t,s,n,i,p){const d=x("app-icon");return l(),r("div",{ref:"resizeBox",class:B(["resize-box","resize-box--"+s.direction])},[c("div",{class:"resize-box__left",style:E({minWidth:s.minWidth,padding:s.padding}),ref:"leftBox"},[k(e.$slots,"left",{},void 0,!0)],4),c("div",{class:B(["resize-box__line","line--"+s.direction]),onMousedownPassive:t[0]||(t[0]=j((...a)=>n.resizeBoxWidth&&n.resizeBoxWidth(...a),["stop"])),onTouchstartPassive:t[1]||(t[1]=j((...a)=>n.resizeBoxWidth&&n.resizeBoxWidth(...a),["stop"])),ref:"rbLine"},[c("div",{style:E([{flex:"2"},{backgroundColor:s.lineColor}])},null,4),k(e.$slots,"line",{},()=>[h(d,{icon:"el-icon-right"})],!0),c("div",{style:E({backgroundColor:s.lineColor,flex:n.positionRatio})},null,4)],34),c("div",{class:"resize-box__right",style:E({minWidth:s.minWidth,padding:s.padding})},[k(e.$slots,"right",{},void 0,!0)],4)],2)}const ie=z(ne,[["render",se],["__scopeId","data-v-6bdc9dae"]]),$={weChatList:["\u5FAE\u7B11","\u6487\u5634","\u8272","\u53D1\u5446","\u5F97\u610F","\u6D41\u6CEA","\u5BB3\u7F9E","\u95ED\u5634","\u7761","\u5927\u54ED","\u5C34\u5C2C","\u53D1\u6012","\u8C03\u76AE","\u5472\u7259","\u60CA\u8BB6","\u96BE\u8FC7","\u9177","\u51B7\u6C57","\u6293\u72C2","\u5410","\u5077\u7B11","\u53EF\u7231","\u767D\u773C","\u50B2\u6162","\u9965\u997F","\u56F0","\u60CA\u6050","\u6D41\u6C57","\u61A8\u7B11","\u5927\u5175","\u594B\u6597","\u5492\u9A82","\u7591\u95EE","\u5618","\u6655","\u6298\u78E8","\u8870","\u9AB7\u9AC5","\u6572\u6253","\u518D\u89C1","\u64E6\u6C57","\u62A0\u9F3B","\u9F13\u638C","\u7CD7\u5927\u4E86","\u574F\u7B11","\u5DE6\u54FC\u54FC","\u53F3\u54FC\u54FC","\u54C8\u6B20","\u9119\u89C6","\u59D4\u5C48","\u5FEB\u54ED\u4E86","\u9634\u9669","\u4EB2\u4EB2","\u5413","\u53EF\u601C","\u83DC\u5200","\u897F\u74DC","\u5564\u9152","\u7BEE\u7403","\u4E52\u4E53","\u5496\u5561","\u996D","\u732A\u5934","\u73AB\u7470","\u51CB\u8C22","\u793A\u7231","\u7231\u5FC3","\u5FC3\u788E","\u86CB\u7CD5","\u95EA\u7535","\u70B8\u5F39","\u5200","\u8DB3\u7403","\u74E2\u866B","\u4FBF\u4FBF","\u6708\u4EAE","\u592A\u9633","\u793C\u7269","\u62E5\u62B1","\u5F3A","\u5F31","\u63E1\u624B","\u80DC\u5229","\u62B1\u62F3","\u52FE\u5F15","\u62F3\u5934","\u5DEE\u52B2","\u7231\u4F60","\u4E0D","\u597D","\u7231\u60C5","\u98DE\u543B","\u8DF3\u8DF3","\u53D1\u6296","\u6004\u706B","\u8F6C\u5708","\u78D5\u5934","\u56DE\u5934","\u8DF3\u7EF3","\u6325\u624B","\u6FC0\u52A8","\u8857\u821E","\u732E\u543B","\u5DE6\u592A\u6781"],kaomojiList:["(\u2032\u0414`)","\uFF08\uFF1D\u3002\uFF1D\uFF09","(\u30FC\u30FC\u309B)","(\u2299\uFE4F\u2299)","(\u30CE\u3078\uFFE3\u3001)","(\xB0\u30FC\xB0\u3003)","(\u30FC`\xB4\u30FC)","(#`O\u2032)","(\uFF20_\uFF20;)","w(\uFF9F\u0414\uFF9F)w","(\uFFE3_,\uFFE3 )","\u51F8(\u8279\u76BF\u8279 )","(*\uFFE3r\u01D2\uFFE3)","\uFE3F(\uFFE3\uFE36\uFFE3)\uFE3F","\u266A(^\u2207^*)","o(\u2267\u53E3\u2266)o","(o_ _)\uFF89","\u30FD(\u273F\uFF9F\u25BD\uFF9F)\u30CE","\u03C6(\u2267\u03C9\u2266*)\u266A","(u\u203F\u0E3Au\u273F\u0E3A)","\uFF08\u25CB\uFF40 3\u2032\u25CB\uFF09","\u25CB|\uFFE3|_ =3","o(\uFFE3\u30D8\uFFE3o\uFF03)","o(\u4E00\uFE3F\u4E00+)o"],emojiList:["\u{1F970}","\u2764","\u{1F975}","\u{1F605}","\u{1F97A}","\u{1F924}","\u{1F51E}","\u{1FA81}","\u{1F4A7}","\u{1F4A9}","\u{1F31A}","\u{1F602}","\u2705","\u{1F6AC}","\u{1F921}","\u{1F4CD}","\u{1F4E2}","\u{1F595}","\u2600","\u{1F34E}","\u{1F64F}","\u{1F90F}","\u{1F643}","\u{1F604}","\u2728","\u{1F525}","\u{1F5A4}","\u{1F914}","\u{1F60A}","\u{1F61C}","\u{1F499}","\u{1F60D}","\u{1F6AB}","\u{1F004}","\u{1F642}","\u{1F603}","\u{1F3E0}","\u263A","\u{1F600}","\u{1F4AA}","\u{1F4A2}","\u{1F33C}","\u{1F3F3}","\u{1F44B}","\u{1F308}","\u2795","\u{1F647}","\u{1F56F}","\u{1F6F0}","\u2B50","\u{1F62D}","\u{1F4A4}","\u26A0","\u{1F49C}","\u{1F680}","\u{1F91E}","\u{1F91F}","\u2601","\u{1F4B8}","\u{1F434}","\u{1F607}","\u{1F636}","\u{1F37C}","\u{1F4AF}","\u{1F98B}","\u{1F947}","\u{1F917}","\u{1F92E}","\u{1F44D}","\u{1F4A6}","\u{1F496}","\u{1F4B0}","\u{1F697}","\u{1F351}","\u{1F621}","\u{1F382}","\u{1F517}","\u{1F337}","\u{1F457}","\u{1F3B2}","\u2639","\u{1F30A}","\u{1F9D0}","\u{1F37E}","\u{1F613}","\u{1F611}","\u{1F338}","\u{1F349}"]},ae=/\[wx_([\u4E00-\u9FA5]{1,3})]/g;function le(e,t="wx-emoji"){return e==null?void 0:e.replace(ae,(s,n)=>{const i=$.weChatList.indexOf(n);return i!==-1?`<img class="${t}" src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${i}.gif" alt="">`:s})}const M={wx:{list:$.weChatList,name:"\u5FAE\u4FE1\u8868\u60C5",process:(e,t)=>({text:`[wx_${e}]`,html:`<img title="[wx_${e}]" src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/${t}.gif"/>`}),getFirst:null},emoji:{name:"\u70ED\u95E8\u{1F603}",list:$.emojiList,process:e=>({text:e,html:e})},kaomoji:{name:"\u989C\u6587\u5B57",list:$.kaomojiList,process:e=>({text:e,html:e})}};function re(e){return Object.keys(e).map(t=>({key:t,name:e[t].name,first:e[t].process(e[t].list[0],0).html}))}function ce(){return{processWx:le,emotions:M,emotionTabs:re(M)}}const de={class:"emotion-tabs"},ue=["innerHTML","onClick"],me={__name:"EmotionTab",props:{tabs:{type:Array,required:!0},modelValue:{type:String,default:"wx"}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=C({get:()=>s.modelValue,set:i=>t("update:modelValue",i)});return(i,p)=>(l(),r("div",de,[(l(!0),r(b,null,L(e.tabs,d=>(l(),r("a",{innerHTML:d.first,class:B({choose:w(n)===d.key}),onClick:a=>n.value=d.key},null,10,ue))),256))]))}},_e=z(me,[["__scopeId","data-v-8eb44b8c"]]);const pe=e=>(A("data-v-ada1a4ab"),e=e(),F(),e),xe=pe(()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},[c("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),c("path",{d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"})],-1)),he={__name:"EmotionBox",props:{autoFocus:{type:Function}},setup(e){return(t,s)=>(l(),r("div",{onClick:s[0]||(s[0]=n=>e.autoFocus&&e.autoFocus()),class:"app-emotion"},[xe,k(t.$slots,"default",{},void 0,!0)]))}},fe=z(he,[["__scopeId","data-v-ada1a4ab"]]);const ve=c("span",null,"\u8868\u60C5",-1),ge={class:"emotion-title"},ye=["innerHTML","data-text","onClick"],be={__name:"index",emits:["emotion"],setup(e,{emit:t}){const{emotions:s,emotionTabs:n}=ce(),i=g("wx"),p=Object.create(null),d=O("textarea"),a=C(()=>{const m=i.value;if(p[m])return p[m];const o=s[m],T=o.process;return p[m]=o.list.map(T)}),u=C(()=>"emotion-box "+i.value),_=()=>{var m;(m=d==null?void 0:d.value)==null||m.focus()},v=m=>{_(),t("emotion",m.text)};return(m,o)=>{const T=x("el-scrollbar"),R=x("el-tooltip");return l(),H(R,{"popper-class":w(u),effect:"light",trigger:"click",placement:"bottom-start"},{content:f(()=>[c("div",ge,V(w(s)[i.value].name),1),h(T,{height:"200px","view-class":"emotion-wrapper"},{default:f(()=>[(l(!0),r(b,null,L(w(a),y=>(l(),r("a",{innerHTML:y.html,class:"emotion-item",key:y.text,"data-text":y.text,onClick:ze=>v(y)},null,8,ye))),128))]),_:1}),h(_e,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=y=>i.value=y),tabs:w(n)},null,8,["modelValue","tabs"])]),default:f(()=>[h(fe,{"auto-focus":_},{default:f(()=>[ve]),_:1})]),_:1},8,["popper-class"])}}},we={name:"EmotionDemo",components:{EmotionBox:oe,ResizeBox:ie,AppEmotion:be},setup(){const e=g(""),t=g(null);P("textarea",t);const s=C(()=>N(e.value));return{text1:e,processText:s,textareaRef:t}}},ke=c("p",null,"\u5728\u5DE6\u4FA7\u8F93\u5165\u6846\u8F93\u5165\u6807\u7B7E\uFF0C\u53F3\u4FA7\u5B9E\u65F6\u5C06\u5FAE\u4FE1\u6E32\u67D3\u6210img\u6807\u7B7E ",-1),Le=["innerHTML"];function Ce(e,t,s,n,i,p){const d=x("app-explain"),a=x("el-input"),u=x("app-emotion"),_=x("emotion-box"),v=x("app-icon"),m=x("resize-box");return l(),r(b,null,[h(d,{title:"\u56FE\u7247\u8F93\u5165\u6846"},{default:f(()=>[ke]),_:1}),h(m,null,{left:f(()=>[h(a,{type:"textarea",ref:"textareaRef",rows:4,placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",modelValue:n.text1,"onUpdate:modelValue":t[0]||(t[0]=o=>n.text1=o)},null,8,["modelValue"]),h(u,{onEmotion:t[1]||(t[1]=o=>n.text1+=o)}),h(_,{onEmotionAdd:t[2]||(t[2]=o=>n.text1+=o)})]),right:f(()=>[c("div",{style:{"min-height":"90px",padding:"8px",background:"#fff","border-radius":"6px"},innerHTML:n.processText},null,8,Le)]),line:f(()=>[h(v,{icon:"el-icon-right"})]),_:1})],64)}const We=z(we,[["render",Ce]]);export{We as default};
