import{_ as h}from"./index.23672c53.js";import{d as p,a4 as f,o as m,c as g,a as e,X as I,Q as r,M as v,W as x,V as a,az as y,aA as k}from"./@vue.18c62693.js";import"./vendor.6c9568b9.js";import"./element-plus.16ed0819.js";import"./@element-plus.d6268c5a.js";import"./@popperjs.36402333.js";const b={name:"FileUpload",setup(){const l=p(null),s=p(null),c="http://localhost:8080/api/file/upload";return{uploadAttr:{action:c,headers:{token:"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4IiwiaWF0IjoxNjIxMTQ4NzQ1LCJleHAiOjE2MjE3NTM1NDV9.luk430AQx3BhiYhgyCx0qR5CvbUv3dN9H0rG1y2fgiMbnckFe5n1HknsNg4P6neSDK5gQEEXZxRGCbY4PVot9w"},drag:!0,multiple:!0,onSuccess:o=>{console.log(o)},onError:(o,i,q)=>{alert(o)},beforeUpload:o=>{console.log(o),console.log("type:"+o.type,Math.round(o.size/1024*100/100)+"KB")}},upload1:l,fileInput:s,action:c,setImage:o=>{const i=o.target.files;console.log(i),alert(`\u4F60\u9009\u62E9\u4E86${i.length}\u4E2A\u6587\u4EF6\uFF0C\u7B2C\u4E00\u4E2A\u6587\u4EF6\u540D\u4E3A${i[0].name}`)}}}},t=l=>(y("data-v-77f43ca7"),l=l(),k(),l),C={class:"upload-demo"},N={class:"el-upload-demo"},S=t(()=>e("h1",null,[e("a",{href:"https://element-plus.gitee.io/#/zh-CN/component/upload",target:"_blank"}," EL-Upload\u4E0A\u4F20 ")],-1)),M=t(()=>e("p",null,[a(" element-plus\u81EA\u5E26\u7EC4\u4EF6\uFF0C\u901A\u8FC7\u70B9\u51FB\u6216\u8005\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6\uFF0C\u66F4\u591A\u7EC6\u8282 "),e("b",null,"\u89C1\u6E90\u7801")],-1)),A=t(()=>e("p",null,"\u6587\u6863\u53C2\u6570\u5F88\u591A\uFF0C\u6700\u5E38\u7528\u7684\u56DE\u8C03\u51FD\u6570:onSuccess\u3001onError\u3001beforeUpload",-1)),E=t(()=>e("p",null,"\u8BF7\u6C42\u7EC6\u8282:Request Method:Post\u3001Content-Type: multipart/form-data;",-1)),F=t(()=>e("p",null,"SpringBoot\u63A7\u5236\u5C42\u53C2\u6570\u63A5\u53D7\u6587\u4EF6\u7684\u65B9\u5F0F:(MultipartFile file)\u4F5C\u4E3A\u53C2\u6570",-1)),R=t(()=>e("p",null,"\u540C\u65F6\u914D\u7F6E\u6587\u4EF6\u4E2Dspring.servlet.multipart.enabled\u5C5E\u6027\u9700\u4E3Atrue",-1)),U=t(()=>e("i",{class:"el-icon-upload"},null,-1)),w=t(()=>e("div",{class:"el-upload__text"},[a(" \u5C06\u6587\u4EF6\u62D6\u5230\u6B64\u5904\uFF0C\u6216 "),e("em",null,"\u70B9\u51FB\u4E0A\u4F20")],-1)),z=t(()=>e("div",{class:"el-upload__tip"}," tip:\u53EA\u80FD\u4E0A\u4F20 jpg/png \u6587\u4EF6\uFF0C\u4E14\u4E0D\u8D85\u8FC7 500kb ",-1)),B=a(" \u5F53\u524Daction(\u8BF7\u6C42\u8DEF\u5F84)\uFF1A "),V={class:"custom-upload-demo"},j=t(()=>e("h1",null,"\u81EA\u5B9A\u4E49\u4E0A\u4F20\u529F\u80FD",-1)),J=t(()=>e("input",{type:"file",name:"file"},null,-1)),P=a(" \u{1F448}\u4E0D\u60F3\u8981\u4E11\u4E11\u7684\u539F\u751F\u4E0A\u4F20\u7EC4\u4EF6\uFF0C\u600E\u4E48\u529E\uFF1F "),Q=t(()=>e("p",null," \u9996\u5148\u7ED9\u539F\u751F\u7684\u4E0A\u4F20\u7EC4\u4EF6\u9690\u85CF\u8D77\u6765\uFF0C\u6DFB\u52A0ref\u5F15\u7528\uFF0C\u6DFB\u52A0\u63A5\u53D7\u7C7B\u578B(\u652F\u6301\u8868\u8FBE\u5F0F)\uFF0C\u6DFB\u52A0@change\u65B9\u6CD5 ",-1)),D=t(()=>e("p",null,' \u6BD4\u5982:<input hidden type="file" ref="fileInput" @change="setImage" accept="image/*" /> ',-1)),L=a(" \u5F53\u9700\u8981 "),T=a(" \u9009\u62E9\u6587\u4EF6\u7684\u5BF9\u8BDD\u6846\uFF0C\u8C03\u7528fileInput.click\u65B9\u6CD5\u5373\u53EF,\u9009\u62E9\u6587\u4EF6\u5B8C\u540E\u4F1A\u8C03\u7528@change\u7684\u65B9\u6CD5 "),G=t(()=>e("p",null," @change\u65B9\u6CD5\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570event\u7684target\u5C5E\u6027\u5C31\u662F\u90A3\u4E2Ainput\uFF0C\u8C03\u7528event.target.files\u5373\u53EF\u83B7\u53D6\u9009\u62E9\u7684\u6587\u4EF6 ",-1)),H=t(()=>e("h2",null,"\u9644:FileReader\u7684\u4F7F\u7528",-1)),O=t(()=>e("pre",null,`  if (typeof FileReader === 'function'){\r
    const reader = new FileReader()\r
    reader.onload = (event) => {\r
      imgSrc.value = event.target.result\r
    }\r
    reader.readAsDataURL(file)\r
  } else {\r
    alert('\u4E0D\u652F\u6301FileReader API')\r
  }\r
    `,-1));function W(l,s,c,n,u,_){const d=f("el-upload");return m(),g("div",C,[e("div",N,[S,M,A,E,F,R,I(d,v({ref:"upload1",style:{"max-width":"360px"}},n.uploadAttr),{tip:r(()=>[z]),default:r(()=>[U,w]),_:1},16),e("p",null,[B,e("span",null,x(n.action),1)])]),e("div",V,[j,e("div",null,[J,P,e("input",{hidden:"",multiple:"",type:"file",ref:"fileInput",name:"image",onChange:s[0]||(s[0]=(...o)=>n.setImage&&n.setImage(...o)),accept:"image/*"},null,544)]),Q,D,e("p",null,[L,e("button",{onClick:s[1]||(s[1]=(...o)=>n.fileInput.click&&n.fileInput.click(...o))},"\u5F39\u51FA"),T]),G,H,O])])}const te=h(b,[["render",W],["__scopeId","data-v-77f43ca7"]]);export{te as default};
