<template>
  <div>
    <h2>app-iconç»„ä»¶è‡ªå¸¦å›¾æ ‡å±•ç¤º</h2>
    <p>
      ä½¿ç”¨æ–¹å¼ï¼š&lt;app-icon icon="github" size="32" color="red"
      /&gt;ï¼Œä½¿ç”¨svgå›¾æ ‡éœ€ç¡®ä¿/src/assets/iconä¸‹å­˜åœ¨å¯¹åº”æ–‡ä»¶åçš„svgæ–‡ä»¶
    </p>
    <h3>assets/iconä¸‹çš„SVGå›¾æ ‡å±•ç¤º</h3>
    <ul class="icon-set clearfix">
      <li v-for="s in svgArr" :key="s">
        <app-icon size="36" :icon="s.replace('icon-', '')" />
        <span @click="copyTag(s)">{{ s }}</span>
      </li>
    </ul>
    <h3>
      <a
        target="_blank"
        href="https://element-plus.gitee.io/#/zh-CN/component/icon"
      >
        element-plusè‡ªå¸¦å›¾æ ‡å±•ç¤º,è¯¦ç»†ç‚¹å‡»è¿™é‡Œ
      </a>
    </h3>
    <ul class="icon-set clearfix">
      <li v-for="e in elIcon" :key="e">
        <app-icon size="36" :icon="e" />
        <span @click="copyTag(e)">{{ e }}</span>
      </li>
    </ul>
  </div>
</template>

<script>
import { ElMessage } from 'element-plus'
export default {
  name: 'Icons',
  setup() {
    const svgArr = []
    const elIcon = [
      'el-icon-platform-eleme',
      'el-icon-eleme',
      'el-icon-delete-solid',
      'el-icon-delete',
      'el-icon-s-tools',
      'el-icon-setting',
      'el-icon-user-solid',
      'el-icon-user',
      'el-icon-phone',
      'el-icon-phone-outline',
      'el-icon-more',
      'el-icon-more-outline',
      'el-icon-star-on',
      'el-icon-star-off',
      'el-icon-s-goods',
      'el-icon-goods',
      'el-icon-warning',
      'el-icon-warning-outline',
      'el-icon-question',
      'el-icon-info',
      'el-icon-s-unfold',
      'el-icon-s-grid',
      'el-icon-refresh',
      'el-icon-loading',
    ]
    let child = document.getElementById('svgSpriteStats').children
    for (const c of child) {
      svgArr.push(c.id.replace('icon-', ''))
    }
    // ä¼˜ç§€çš„å¤åˆ¶å†…å®¹åˆ°å‰ªåˆ‡æ¿çš„åº“ğŸ‘‰ https://clipboardjs.com/
    const copyTag = (str) => {
      const el = document.createElement('textarea')
      const content = `<app-icon  :icon="${str}" />`
      el.value = content
      document.body.appendChild(el)
      el.select()
      document.execCommand('Copy')
      el.remove()
      el.setAttribute('readonly', '') //åˆ©ç”¨åªè¯»å±æ€§æ¥é˜²æ­¢å¼¹å‡ºè™šæ‹Ÿé”®ç›˜
      ElMessage.success({
        message: `å¤åˆ¶åˆ°å‰ªåˆ‡æ¿:${content}`,
        type: 'success',
        center: true,
      })
    }
    return { svgArr, elIcon, copyTag }
  },
}
</script>

<style lang="scss" scoped>
.icon-set {
  list-style: none;
  padding: 0;
  margin-right: 20px;
  border-radius: 4px;
  background-color: white;
  border-top: 1px solid #eee;
  border-left: 1px solid #eee;
  li {
    float: left;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center; /* ç”¨äº<i>æ ‡ç­¾çš„å›¾æ ‡æ°´å¹³å±…ä¸­ */
    width: 12.5%;
    height: 120px;
    border-right: 1px solid #eee;
    border-bottom: 1px solid #eee;
    transition: color 0.5s;
    &:hover {
      color: $primary-color;
    }
    > span {
      margin-top: 4px;
    }
  }
  @media screen and (max-width: $lg-width) {
    & > li {
      width: 16.6%;
    }
  }
  @media screen and (max-width: $sm-width) {
    & > li {
      width: 25%;
    }
  }
}
</style>
